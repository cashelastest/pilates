<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Групи - Pilates Studio</title>
    <link rel="stylesheet" href="{{ url_for('static',path = '/css/style.css')}}">
    <link rel="stylesheet" href="{{ url_for('static',path = '/css/groups.css')}}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400&display=swap" rel="stylesheet">
</head>
<body>
    <header class="header-block">
        <span class="left-part">Pilates Studio</span>
        <nav>
            <ul>
                <li><a href="index.html">Дошка</a></li>
                <li><a href="coaches.html">Тренери</a></li>
                <li><a href="clients.html">Клієнти</a></li>
                <li class="active-page"><a href="groups.html">Групи</a></li>
                <li><a href="stats.html">Статистика</a></li>
            </ul>
        </nav>
        <div class="right-header">
            <span id="user-profile">Профіль</span>
        </div>
        <div class="menu-btn" aria-label="Відкрити меню">
            <div class="hamburger">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </div>
        </div>
        <div class="dropdown-menu">
            <a href="index.html" class="dropdown-item">Дошка</a>
            <a href="coaches.html" class="dropdown-item">Тренери</a>
            <a href="clients.html" class="dropdown-item">Клієнти</a>
            <a href="groups.html" class="dropdown-item">Групи</a>
            <a href="stats.html" class="dropdown-item">Статистика</a>
        </div>
    </header>

    <main class="groups-container">
        <div class="groups-header">
            <h1>Групи</h1>
            <div class="groups-actions">
                <button class="action-button" id="createGroupBtn">Створити групу</button>
            </div>
        </div>

        <div class="groups-filters">
            <div class="search-container">
                <input type="text" id="groupSearch" placeholder="Пошук групи..." class="search-input">
            </div>
            <div class="filter-options">
                <select id="coachFilter" class="filter-select">
                    <option value="">Всі тренери</option>
                </select>
                <select id="statusFilter" class="filter-select">
                    <option value="">Всі статуси</option>
                    <option value="active">Активні</option>
                    <option value="inactive">Неактивні</option>
                </select>
            </div>
        </div>

        <div class="groups-grid" id="groupsGrid">
            <!-- Карточки групп будут добавляться сюда динамически -->
        </div>
    </main>

    <!-- Модальное окно создания/редактирования группы -->
    <div id="groupModal" class="modal-overlay">
        <div class="modal-container">
            <div class="modal-header">
                <h3 class="modal-title" id="groupModalTitle">Створення нової групи</h3>
                <button class="modal-close" id="closeGroupModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="groupForm">
                    <input type="hidden" id="groupId">
                    <div class="form-group">
                        <label for="groupName">Назва групи</label>
                        <input type="text" class="form-control" id="groupName" required>
                    </div>
                    <div class="form-group">
                        <label for="groupCoach">Тренер</label>
                        <select class="form-control" id="groupCoach" required>
                            <option value="">Оберіть тренера</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="groupStatus">Статус</label>
                        <select class="form-control" id="groupStatus">
                            <option value="1">Активна</option>
                            <option value="0">Неактивна</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="groupDescription">Опис</label>
                        <textarea class="form-control" id="groupDescription" rows="3"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="cancelGroupBtn">Скасувати</button>
                <button type="button" class="btn btn-primary" id="saveGroupBtn">Зберегти</button>
            </div>
        </div>
    </div>

    <!-- Модальное окно просмотра деталей группы -->
    <div id="groupDetailsModal" class="modal-overlay">
        <div class="modal-container">
            <div class="modal-header">
                <h3 class="modal-title" id="groupDetailsTitle">Деталі групи</h3>
                <button class="modal-close" id="closeGroupDetailsModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="group-info-section">
                    <div class="detail-row">
                        <div class="detail-label">Назва:</div>
                        <div class="detail-value" id="detailGroupName"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Тренер:</div>
                        <div class="detail-value" id="detailGroupCoach"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Статус:</div>
                        <div class="detail-value" id="detailGroupStatus"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Кількість учасників:</div>
                        <div class="detail-value" id="detailGroupMembers"></div>
                    </div>
                    <div class="detail-row">
                        <div class="detail-label">Опис:</div>
                        <div class="detail-value description" id="detailGroupDescription"></div>
                    </div>
                </div>

                <div class="group-tabs">
                    <button class="tab-button active" data-tab="members">Учасники</button>
                    <button class="tab-button" data-tab="lessons">Заняття</button>
                </div>

                <div class="tab-panel active" id="members-panel">
                    <div class="panel-actions">
                        <button class="action-button" id="addMemberBtn">Додати учасника</button>
                    </div>
                    <div id="membersList" class="list-container">
                        <!-- Список участников будет добавлен динамически -->
                    </div>
                </div>

                <div class="tab-panel" id="lessons-panel">
                    <div class="panel-actions">
                        <button class="action-button" id="addLessonBtn">Додати заняття</button>
                    </div>
                    <div class="lessons-filter">
                        <label>
                            <input type="radio" name="lessons-filter" value="all" checked>
                            Всі
                        </label>
                        <label>
                            <input type="radio" name="lessons-filter" value="upcoming">
                            Майбутні
                        </label>
                        <label>
                            <input type="radio" name="lessons-filter" value="past">
                            Минулі
                        </label>
                    </div>
                    <div id="lessonsList" class="list-container">
                        <!-- Список занятий будет добавлен динамически -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="closeDetailsBtn">Закрити</button>
                <button type="button" class="btn btn-primary" id="editGroupBtn">Редагувати</button>
                <button type="button" class="btn btn-danger" id="deleteGroupBtn">Видалити</button>
            </div>
        </div>
    </div>

    <!-- Модальное окно добавления участника в группу -->
    <div id="addMemberModal" class="modal-overlay">
        <div class="modal-container">
            <div class="modal-header">
                <h3 class="modal-title">Додати учасника в групу</h3>
                <button class="modal-close" id="closeAddMemberModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addMemberForm">
                    <input type="hidden" id="addMemberGroupId">
                    <div class="form-group">
                        <label for="memberSelect">Клієнт</label>
                        <select class="form-control" id="memberSelect" required>
                            <option value="">Оберіть клієнта</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="cancelAddMemberBtn">Скасувати</button>
                <button type="button" class="btn btn-primary" id="saveAddMemberBtn">Додати</button>
            </div>
        </div>
    </div>

    <!-- Модальное окно добавления занятия -->
    <div id="addLessonModal" class="modal-overlay">
        <div class="modal-container">
            <div class="modal-header">
                <h3 class="modal-title">Додати заняття для групи</h3>
                <button class="modal-close" id="closeAddLessonModal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="addLessonForm">
                    <input type="hidden" id="lessonGroupId">

                    <div class="form-group">
                        <label for="lessonDate">Дата</label>
                        <input type="date" class="form-control" id="lessonDate" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="lessonStartTime">Час початку</label>
                            <input type="time" class="form-control" id="lessonStartTime" required>
                        </div>
                        <div class="form-group">
                            <label for="lessonEndTime">Час закінчення</label>
                            <input type="time" class="form-control" id="lessonEndTime" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="lessonPrice">Ціна (₴)</label>
                        <input type="number" class="form-control" id="lessonPrice" min="0" step="50" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="cancelAddLessonBtn">Скасувати</button>
                <button type="button" class="btn btn-primary" id="saveAddLessonBtn">Додати</button>
            </div>
        </div>
    </div>

    <!-- Скрипты -->
    <script src="{{ url_for('static',path = '/js/menu.js')}}"></script>
    <script src="{{ url_for('static',path = '/js/data/group-mock-data.js')}}"></script>
    <script src="{{ url_for('static',path = '/js/group.js')}}"></script>
</body>
</html>